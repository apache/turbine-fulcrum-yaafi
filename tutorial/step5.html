<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 from xdocs/tutorial\step5.xml at 14 Sep 2021

 | Rendered using Apache Maven Default Skin
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.9.2" />
    <meta name="author" content="Siegfried Goeschl" />
    <title>Fulcrum YAAFI Avalon Container &#x2013; Fulcrum YAAFI Avalon Container Tutorial Step 5</title>
    <link rel="stylesheet" href="../css/maven-base.css" />
    <link rel="stylesheet" href="../css/maven-theme.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
  </head>
  <body class="composite">
    <div id="banner">
<a href="https://turbine.apache.org/" id="bannerLeft" title="Apache Turbine"><img src="https://turbine.apache.org/images/turbine-project.png"  alt="Apache Turbine"/></a>      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
      <div class="xleft">
        <span id="publishDate">Last Published: 14 Sep 2021</span>
          &#xA0;| <span id="projectVersion">Version: 1.0.9-SNAPSHOT</span>
      </div>
      <div class="xright"><a href="https://www.apache.org" class="externalLink" title="Apache">Apache</a> |
<a href="https://turbine.apache.org/" class="externalLink" title="Turbine">Turbine</a> |
<a href="https://turbine.apache.org/fulcrum/" class="externalLink" title="Fulcrum">Fulcrum</a>      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
       <h5>Overview</h5>
    <ul>
     <li class="none"><a href="../index.html" title="Main">Main</a></li>
     <li class="none"><a href="../downloads.html" title="Downloads">Downloads</a></li>
     <li class="none"><a href="../howto.html" title="How To">How To</a></li>
     <li class="none"><a href="../cryptography.html" title="Cryptography">Cryptography</a></li>
     <li class="collapsed"><a href="../lifecycle/index.html" title="Lifecycle">Lifecycle</a></li>
     <li class="collapsed"><a href="../interceptors/index.html" title="Interceptors">Interceptors</a></li>
     <li class="collapsed"><a href="../services/index.html" title="Services">Services</a></li>
     <li class="collapsed"><a href="../specification/index.html" title="Specification">Specification</a></li>
     <li class="expanded"><a href="../tutorial/index.html" title="Tutorial">Tutorial</a>
      <ul>
       <li class="none"><a href="../tutorial/step1.html" title="Step 1">Step 1</a></li>
       <li class="none"><a href="../tutorial/step2.html" title="Step 2">Step 2</a></li>
       <li class="none"><a href="../tutorial/step3.html" title="Step 3">Step 3</a></li>
       <li class="none"><a href="../tutorial/step4.html" title="Step 4">Step 4</a></li>
       <li class="none"><strong>Step 5</strong></li>
      </ul></li>
     <li class="none"><a href="../design.html" title="Design Considerations">Design Considerations</a></li>
     <li class="none"><a href="../todo.html" title="Todo's">Todo's</a></li>
    </ul>
       <h5>Project Documentation</h5>
    <ul>
     <li class="collapsed"><a href="../project-info.html" title="Project Information">Project Information</a></li>
     <li class="collapsed"><a href="../project-reports.html" title="Project Reports">Project Reports</a></li>
    </ul>
       <h5>Apache</h5>
    <ul>
     <li class="none"><a href="https://www.apache.org/" class="externalLink" title="Apache Website">Apache Website</a></li>
     <li class="none"><a href="https://www.apache.org/licenses/" class="externalLink" title="License">License</a></li>
     <li class="none"><a href="https://www.apache.org/foundation/how-it-works.html" class="externalLink" title="How the ASF works">How the ASF works</a></li>
     <li class="none"><a href="https://www.apache.org/foundation/sponsorship.html" class="externalLink" title="Sponsorship">Sponsorship</a></li>
     <li class="none"><a href="https://www.apache.org/foundation/thanks.html" class="externalLink" title="Thanks">Thanks</a></li>
     <li class="none"><a href="https://www.apache.org/security/" class="externalLink" title="Security">Security</a></li>
    </ul>
      <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
      </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">


  

    <section>
<h2><a name="Odds_and_Ends"></a>Odds and Ends</h2>

      <section>
<h3><a name="Setting_Up_A_Logger"></a>Setting Up A Logger</h3>
        
<p>
          The YAAFI container expects that you setup the logging facilty to be used.
          The Avalon Service Framework provides wrappers for commonly used loggers such
          as
          </p>
<ul>
            
<li>JDK 1.4 logger</li>
            
<li>Log4J logger</li>
            
<li>LogKit logger</li>
            
<li>Console logger</li>
            
<li>Null logger</li>
          </ul>
        

        
<p>
          The following examples shows how to use a Log4J logger assuming that
          the configuration is located in the &quot;conf&quot; directory and tells Log4J
          to monitor the configuration file to detect changes of the trace level.
          </p>
<div class="source">
<pre>
Main cli = new Main(args)
String log4jConfig = cli.makeAbsolutePath( System.getProperty(&quot;log4j.configuration&quot;, &quot;./conf/log4j.properties&quot;) );
PropertyConfigurator.configureAndWatch( log4jConfig, 2000 );
cli.setLogger( new Log4JLogger( Logger.getLogger(&quot;main&quot;) ) );
          </pre></div>
        
      </section>

      <section>
<h3><a name="Looking_up_a_Service"></a>Looking up a Service</h3>
        
<p>
          Using an Avalon container requires your application to lookup
          services during runtime. This functionality is exposed through
          the &quot;ServiceManager&quot; interface. The real question is how to get
          hold of a &quot;ServiceManager&quot; interface without polluting the whole
          application with Avalon dependencies. Unfortunately there is no
          simple answer to that
          </p>
<ul>
            
<li>
              You can keep a &quot;ServiceManager&quot; instance from initializing
              the YAAFI container.
           </li>
            
<li>
              Your service can implement the &quot;Servicable&quot; interface to get
              an instance of a &quot;ServiceManager&quot;.
           </li>
            
<li>
              Your can lookup the services using the
              <a href="../services/servicemanagerservice.html">ServiceManagerService</a>
           </li>
          </ul>
        
      </section>

      <section>
<h3><a name="Dynamic_Reconfiguration"></a>Dynamic Reconfiguration</h3>
        
<p>
          A reconfiguration can be triggered by your application code
          or by the
          <a href="../services/reconfigurationservice.html">ReconfigurationService</a>
          which monitors the component configuration file.
        </p>
      </section>

    </section>

  


      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        Copyright &#169;      2004&#x2013;2021<a href="https://www.apache.org/">The Apache Software Foundation</a>.
.      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
